{% extends 'base.html' %}
{% block content %}
<div class="container py-5">
    <div class="mb-4">
        <a href="{% url 'home' %}" class="text-decoration-none text-muted fw-bold">
            <i class="bi bi-arrow-left"></i> ‚Üê Back to Dashboard
        </a>
    </div>

    <div class="card shadow-lg mx-auto p-5 border-0" style="max-width: 550px; border-radius: 24px;">
        <div class="text-center mb-4">
            <div class="bg-primary bg-opacity-10 p-3 d-inline-block rounded-circle mb-3">
                <span class="fs-1">üö¢</span>
            </div>
            <h2 class="fw-bold">Start a New Trip</h2>
            <p class="text-muted">Create a group and invite your friends to split costs.</p>
        </div>

        <form method="POST">
            {% csrf_token %}
            
            <div class="mb-3">
                <label class="form-label small fw-bold text-uppercase text-secondary">Trip Name</label>
                <input type="text" name="name" class="form-control form-control-lg border-2 shadow-none" 
                       placeholder="e.g. Goa 2026, Weekend Trek" required>
            </div>

            <div class="mb-3">
                <label class="form-label small fw-bold text-uppercase text-secondary">Description (Optional)</label>
                <textarea name="description" class="form-control border-2 shadow-none" 
                          rows="2" placeholder="What's this trip about?"></textarea>
            </div>

            <div class="mb-4">
                <label class="form-label small fw-bold text-uppercase text-secondary d-block">
                    Add Members
                </label>
                <div class="p-3 bg-light rounded-3 border">
                    <select name="members" class="form-select border-0 bg-transparent shadow-none" 
                            multiple style="min-height: 150px;" required>
                        {% for user in users %}
                            <option value="{{ user.id }}" class="py-2 px-3 mb-1 rounded">
                                {{ user.username }}
                            </option>
                        {% endfor %}
                    </select>
                </div>
                <div class="form-text mt-2 text-muted">
                    <i class="bi bi-info-circle"></i> 
                    Hold <strong>Ctrl</strong> (or <strong>Cmd</strong> on Mac) to select multiple friends.
                </div>
            </div>

            <button type="submit" class="btn btn-primary btn-lg w-100 shadow py-3 fw-bold">
                Create Trip & Continue
            </button>
        </form>
    </div>
</div>

<style>
    select[multiple]:focus option:checked {
        background: var(--primary) linear-gradient(0deg, var(--primary) 0%, var(--primary) 100%);
        color: white;
    }
    .form-control-lg:focus {
        border-color: var(--primary);
        background-color: #fff;
    }
</style>
{% endblock %}